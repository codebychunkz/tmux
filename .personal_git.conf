[core]
    editor = nvim
[pull]
    rebase = true
[alias]
    co = checkout
    br = branch
    ci = commit
    st = status
    changes = "!sh -c '\
      branch=$(git branch --show-current 2>/dev/null) || exit 1; \
      origin_head=$(git symbolic-ref -q refs/remotes/origin/HEAD 2>/dev/null || true); \
      main=${origin_head#refs/remotes/origin/}; \
      [ -n \"$main\" ] || main=main; \
      upstream=\"origin/$main\"; \
      \
      green=$(printf \"\\033[32m\"); reset=$(printf \"\\033[0m\"); \
      printf -- \"Branch: %s%s%s\\n\" \"$green\" \"$branch\" \"$reset\"; \
      printf -- \"%-10s %-16s %-20s %s\\n\" \"HASH\" \"AUTHOR\" \"WHEN\" \"SUBJECT\"; \
      printf -- \"%-10s %-16s %-20s %s\\n\" \"----------\" \"----------------\" \"--------------------\" \"-------\"; \
      \
      fmt=\"%C(green)%<(10)%h%Creset %C(green)%<(16)%an%Creset %<(20)%ar %s\"; \
      \
      if [ \"$branch\" = \"$main\" ]; then \
        git --no-pager log -20 --color=always --pretty=format:\"$fmt\"; \
      else \
        base=$(git merge-base HEAD \"$upstream\" 2>/dev/null || git merge-base HEAD \"$main\" 2>/dev/null) || exit 1; \
        git --no-pager log \"$base\"..HEAD --color=always --pretty=format:\"$fmt\"; \
      fi; \
      echo; \
    '"
